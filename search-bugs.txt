search:search(‘asthma sort:”undefined”’, $OPTIONS) debug results
(cts:search(fn:collection(), cts:query(<cts:and-query xmlns="" xmlns:cts="http://marklogic.com/cts" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:_1="http://marklogic.com/appservices/search">
  <cts:and-query strength="20" qtextjoin="" qtextgroup="( )">
    <cts:word-query qtextref="cts:text">
      <cts:text>asthma</cts:text>
      <cts:option>wildcarded</cts:option>
      <cts:option>case-insensitive</cts:option>
      <cts:option>punctuation-insensitive</cts:option>
      <cts:option>diacritic-insensitive</cts:option>
    </cts:word-query>
    <cts:annotation warning="SEARCH-IGNOREDQTEXT:[sort:undefined]"/>
  </cts:and-query>
  <cts:directory-query depth="infinity">
    <cts:uri>/nejm_nlm_mpeg21/</cts:uri>
  </cts:directory-query>
</cts:and-query>) , ("filtered","faceted"), 1))[1 to 10]
 
 
search:search(‘asthma sort:”pub-date”’, $OPTIONS) debug results ß only one that returns results sorted by pub-date
(for $result in cts:search(fn:collection(), cts:query(<cts:and-query xmlns="" xmlns:cts="http://marklogic.com/cts" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:_1="http://marklogic.com/appservices/search">
  <cts:and-query strength="20" qtextjoin="" qtextgroup="( )">
    <cts:word-query qtextref="cts:text">
      <cts:text>asthma</cts:text>
      <cts:option>wildcarded</cts:option>
      <cts:option>case-insensitive</cts:option>
      <cts:option>punctuation-insensitive</cts:option>
      <cts:option>diacritic-insensitive</cts:option>
    </cts:word-query>
    <cts:annotation operator-ref="sort" state-ref="pub-date" qtextconst="sort:pub-date"/>
  </cts:and-query>
  <cts:directory-query depth="infinity">
    <cts:uri>/nejm_nlm_mpeg21/</cts:uri>
  </cts:directory-query>
</cts:and-query>) , ("filtered","faceted"), 1) order by xs:string(($result//_1:publicationDate)[1]) descending collation "http://marklogic.com/collation/" return $result)[1 to 10]
 
 
search:search(‘asthma category:”Book Review” sort:”pub-date”’, $OPTIONS) debug results
(for $result in cts:search(fn:collection(), cts:query(<cts:and-query xmlns="" xmlns:cts="http://marklogic.com/cts" xmlns:_1="http://marklogic.com/appservices/search" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <cts:and-query qtextjoin="" qtextgroup="( )">
    <cts:word-query qtextref="cts:text">
      <cts:text>asthma</cts:text>
      <cts:option>wildcarded</cts:option>
      <cts:option>case-insensitive</cts:option>
      <cts:option>punctuation-insensitive</cts:option>
      <cts:option>diacritic-insensitive</cts:option>
    </cts:word-query>
    <cts:and-query strength="20" qtextjoin="" qtextgroup="( )">
      <cts:path-range-query qtextpre="category:" qtextref="cts:annotation" operator="=">
                <cts:annotation qtextpre="&quot;" qtextref="following-sibling::cts:value" qtextpost="&quot;"/>
                <cts:path-expression xmlns="http://marklogic.com/appservices/search">
        /didl:DIDL/didl:Item/didl:Descriptor[@id='d400']/didl:Statement/article-meta/article-categories/subj-group[@subj-group-type='heading']/subject
      </cts:path-expression>
                <cts:value xsi:type="xs:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Book Review</cts:value>
                <cts:option>collation=http://marklogic.com/collation/en/S1</cts:option>
      </cts:path-range-query>
    </cts:and-query>
    <cts:annotation operator-ref="sort" state-ref="pub-date" qtextconst="sort:pub-date"/>
  </cts:and-query>
  <cts:directory-query depth="infinity">
    <cts:uri>/nejm_nlm_mpeg21/</cts:uri>
  </cts:directory-query>
</cts:and-query>) , ("filtered","faceted"), 1) order by xs:string(($result//_1:publicationDate)[1]) descending collation "http://marklogic.com/collation/" return $result)[1 to 10]
 
 
search:search(‘asthma category:”Book Review” sort:”undefined”’, $OPTIONS) debug results
(cts:search(fn:collection(), cts:query(<cts:and-query xmlns="" xmlns:cts="http://marklogic.com/cts" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:_1="http://marklogic.com/appservices/search">
  <cts:and-query qtextjoin="" qtextgroup="( )">
    <cts:word-query qtextref="cts:text">
      <cts:text>asthma</cts:text>
      <cts:option>wildcarded</cts:option>
      <cts:option>case-insensitive</cts:option>
      <cts:option>punctuation-insensitive</cts:option>
      <cts:option>diacritic-insensitive</cts:option>
    </cts:word-query>
    <cts:and-query strength="20" qtextjoin="" qtextgroup="( )">
      <cts:path-range-query qtextpre="category:" qtextref="cts:annotation" operator="=">
                <cts:annotation qtextpre="&quot;" qtextref="following-sibling::cts:value" qtextpost="&quot;"/>
                <cts:path-expression xmlns="http://marklogic.com/appservices/search">
        /didl:DIDL/didl:Item/didl:Descriptor[@id='d400']/didl:Statement/article-meta/article-categories/subj-group[@subj-group-type='heading']/subject
      </cts:path-expression>
                <cts:value xsi:type="xs:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Book Review</cts:value>
                <cts:option>collation=http://marklogic.com/collation/en/S1</cts:option>
      </cts:path-range-query>
    </cts:and-query>
    <cts:annotation warning="SEARCH-IGNOREDQTEXT:[sort:undefined]"/>
  </cts:and-query>
  <cts:directory-query depth="infinity">
    <cts:uri>/nejm_nlm_mpeg21/</cts:uri>
  </cts:directory-query>
</cts:and-query>) , ("filtered","faceted"), 1))[1 to 10]
